<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>comments sustem</title>
    <link rel="stylesheet" href="/style/index.css">
    <link rel="stylesheet" href="/style/registration.css">
    <link rel="shortcut icon" href="/img/ico.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Разметка JSON-LD, созданная Мастером разметки структурированных данных Google. -->
  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Comments",
  "headline": "sustem comments",
  "author" : {
    "@type" : "Person",
    "name" : "Amir Navrutdinov",
    "alternateName": ["Amir Shikarno", "Амир Наврутдинов"],
    "url" : "https://nasobe.ru/resume/resume.html"
  },
  "datePublished": "2023-04-07",
  "dateModified":"2023-07-14",
  "image": "https://nasobe.ru/comments/images/great-job.png",
  "articleSection": "Супер шикарная система комментаривев",
  "articleBody": "Эта система комментариев без записи в базу данных. Сообщения записываются массивом в документ json форматa. После чего отправляются с сервера обратно в документ. С использованием одного только javascript. Как говорится в пословице: &quot;все гениальное просто&quot;. Рабочую систему комментариев можно скачать по ссылки с моего гитхаба https://github.com/amir248/comments Вот вам пожалуйста рабочая система комментариев в открытом доступе, это не то что условно бесплатная система комментариев как &quot;дискус&quot;. Сначало она бесплатная, а потом загромаждает все поля видимости жесточайшими ракламными блоками.",
  "url": "https://nasobe.ru/comments/",
  "publisher" : {
    "@type" : "Organization",
    "name" : "веб мастерская имени Барона Сайтоверстаузена",
    "logo": {
      "@type": "ImageObject",
      "url": "https://nasobe.ru/comments/"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://nasobe.ru/comments/"
    }
  }
  }
  </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CTRLNMFNGY"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-CTRLNMFNGY');
    </script>
    <style media="screen">
      *{
        margin:0;
      }
      body{
        width:900px;
        max-width:100%;
        margin-left: auto;
        margin-right: auto;
      }
      main{
        display:flex;
        justify-content: center;
        align-items: baseline;
        flex-direction: column;
        max-width: 900px;
        width:100%;
      }
      #comments{
        width:900px;
        max-width:100%;
        margin-left: auto;
        margin-right: auto;
      }
      #comments fieldset{
        background: rgba(0,255,0,0.1);
        border-radius:3px;
      }
    </style>
  </head>
  <body>
    <h1><%=title%></h1>
    <p><%=text%></p>
    <!--
     XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                            Here commentsBlock!
    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  -->
    <div id="comments" style="width:100%;max-width:100%"></div>
    <a href="https://nasobe.ru/comments/" style="font-size: 17px;">https://nasobe.ru/comments/</a>
    <script type="text/javascript">
        const importantBag={id:"a003",site:window.location.href};
        console.log(importantBag.site);
        const script =document.createElement('script');
        const url ='http://localhost:3700/comments/script/allow-cors/';
        async function goComments(){
          await fetch(url,{
            // origin:'https://nasobe.ru/',
            method: "POST",
            // referrer: "https://nasobe.ru/comments/",
            referrerPolicy: "strict-origin-when-cross-origin",
            mode:"cors",
            credentials: "omit",
            cache: "no-store",
          }).then(response=>response.text()).then(result=>{
            document.querySelector('#comments').append(script);
            let oK = document.querySelector('#comments > script');
            oK.innerHTML=result;
          });
        }
        setTimeout(()=>goComments(),0);
    </script>
  </body>
</html>
